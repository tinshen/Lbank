!function(t){function e(e){for(var n,s,o=e[0],l=e[1],u=e[2],p=0,_=[];p<o.length;p++)s=o[p],a[s]&&_.push(a[s][0]),a[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);for(c&&c(e);_.length;)_.shift()();return r.push.apply(r,u||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,o=1;o<i.length;o++){var l=i[o];0!==a[l]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},a={9:0},r=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.e=function(t){var e=[],i=a[t];if(0!==i)if(i)e.push(i[2]);else{var n=new Promise(function(e,n){i=a[t]=[e,n]});e.push(i[2]=n);var r=document.getElementsByTagName("head")[0],o=document.createElement("script");o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.src=function(t){return s.p+"js/"+({}[t]||t)+"."+{0:"b1d82bc311e5aff38167"}[t]+".js"}(t);var l=setTimeout(function(){u({type:"timeout",target:o})},12e4);function u(e){o.onerror=o.onload=null,clearTimeout(l);var i=a[t];if(0!==i){if(i){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+n+": "+r+")");s.type=n,s.request=r,i[1](s)}a[t]=void 0}}o.onerror=o.onload=u,r.appendChild(o)}return Promise.all(e)},s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw t};var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;r.push([741,1]),i()}({100:function(t,e,i){"use strict";i.r(e);var n=i(99),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e.default=a.a},439:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ip-input g-between-center"},[i("input",{ref:"j_ip_input_0",class:["g-input g-text-center ip-input",t.inputStyle],attrs:{placeholder:t.placeholder,maxlength:"3",type:"text"},domProps:{value:t.ip_val_0},on:{input:function(e){t.inputIpHandle(e,0)},keyup:function(e){t.keydownHandle(e,0)},blur:t.onIpblur}}),t._v(" "),i("span",{staticClass:"ip-i-gap"},[t._v("-")]),t._v(" "),i("input",{ref:"j_ip_input_1",class:["g-input g-text-center ip-input",t.inputStyle],attrs:{placeholder:t.placeholder,maxlength:"3",type:"text"},domProps:{value:t.ip_val_1},on:{input:function(e){t.inputIpHandle(e,1)},keyup:function(e){t.keydownHandle(e,1)},blur:t.onIpblur}}),t._v(" "),i("span",{staticClass:"ip-i-gap"},[t._v("-")]),t._v(" "),i("input",{ref:"j_ip_input_2",class:["g-input g-text-center ip-input",t.inputStyle],attrs:{placeholder:t.placeholder,maxlength:"3",type:"text"},domProps:{value:t.ip_val_2},on:{input:function(e){t.inputIpHandle(e,2)},keyup:function(e){t.keydownHandle(e,2)},blur:t.onIpblur}}),t._v(" "),i("span",{staticClass:"ip-i-gap"},[t._v("-")]),t._v(" "),i("input",{ref:"j_ip_input_3",class:["g-input g-text-center ip-input",t.inputStyle],attrs:{placeholder:t.placeholder,maxlength:"3",type:"text"},domProps:{value:t.ip_val_3},on:{input:function(e){t.inputIpHandle(e,3)},keyup:function(e){t.keydownHandle(e,3)},blur:t.onIpblur}})])},a=[];n._withStripped=!0,i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},540:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user-white-ip"},[i("v-header"),t._v(" "),i("div",{staticClass:"g-wrap"},[i("div",{staticClass:"g-container"},[i("v-breadcrumb",{attrs:{list:t.breadcrumb}}),t._v(" "),i("div",{staticClass:"g-content cont"},[i("table-title",{attrs:{title:t.$_lang("创建白名单")}}),t._v(" "),i("div",{staticClass:"wh-ip-wrap"},[i("div",{staticClass:"switch-wh g-between-center"},[i("div",{staticClass:"switch-tip"},[i("p",{staticClass:"g-font18 g-fontbold"},[t._v(t._s(t.$_lang("是否开启白名单")))]),t._v("\n              "+t._s(t.$_lang("设置白名单后，只有名单中的IP可以正常登录，非名单中的IP将无法登录。"))+"\n            ")]),t._v(" "),i("el-switch",{attrs:{"active-color":"#DDAA62","inactive-color":"#50505E",value:t.switch_val,"active-text":t.switch_val?t.$_lang("启用"):t.$_lang("未启用")},on:{change:t.onSwitchChange}})],1),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.is_list_loading,expression:"is_list_loading"}],staticClass:"g-loading-col1"},[i("ul",{staticClass:"g-flex ip-list-wrap"},[i("li",{staticClass:"g-center wh-ip-li li-add",on:{click:function(e){t.is_alert=!0}}},[i("div",{staticClass:"g-text-center"},[t._m(0),t._v(" "),i("p",[t._v(t._s(t.$_lang("创建IP白名单")))])])]),t._v(" "),t._l(t.ip_list,function(e,n){return i("li",{key:n,staticClass:"wh-ip-li g-font18 li-ip g-relative"},[i("p",[t._v(t._s(e.remark||"--"))]),t._v(" "),i("ul",{staticClass:"ip-c-1"},[i("li",[t._v("IP: "+t._s(e.ip))]),t._v(" "),i("li",{staticClass:"g-font14 rem"},[t._v("Add："+t._s(e.location))])]),t._v(" "),i("div",{staticClass:"g-absolute g-text-center g-font20 del-i",on:{click:function(i){t.delete_id=e.id}}},[t._v("\n                  \n                ")])])})],2)]),t._v(" "),t.page_total>8?i("div",{staticClass:"g-center"},[i("el-pagination",{attrs:{layout:"prev, pager, next","page-size":t.page_size,total:t.page_total},on:{"current-change":t.onCurrentPage}})],1):t._e(),t._v(" "),i("div",{staticClass:"infm-wrap"},[i("p",{staticClass:"p1 g-font20"},[t._v(t._s(t.$_lang("IP限制说明"))+"：")]),t._v(" "),i("p",{staticClass:"p2 g-text-justify"},[t._v("\n              "+t._s(t.$_lang("IP限制是强安全策略"))+"\n            ")])])])],1)],1)]),t._v(" "),t.is_switch_ip?i("v-alert",{attrs:{title:t.$_lang("您正在验证白名单操作"),width:480},on:{cancel:function(e){t.is_switch_ip=!1}}},[i("user-public",{attrs:{loading:t.is_switch_loading},on:{validate:function(e){return t.is_switch_validate=e},handle:function(e){t.sendCode("updateIsSetIps")},change:function(e){return t.switch_ver=e},confirm:t.resetWhiteStatus}})],1):t._e(),t._v(" "),t.is_alert?i("v-alert",{attrs:{"bg-color-tit":"#40404C","cancel-col":"#fff",title:t.$_lang("新增白名单"),width:680},on:{cancel:function(e){t.is_alert=!1}}},[i("user-public",{attrs:{hide_info:"",width:"100%",loading:t.is_loading},on:{confirm:t.confirm,ready:t.onReady,handle:function(e){t.sendCode("addAllowLoginIp")},change:t.getCodeValue}},[i("el-form",{ref:"ip_form",attrs:{slot:"preppend","label-position":"top",model:t.form_data,rules:t.rules},slot:"preppend"},[i("el-form-item",{attrs:{prop:"remark",label:t.$_lang("备注")+"："}},[i("el-input",{attrs:{maxLength:"20",placeholder:t.$_lang("请输入备注")},model:{value:t.form_data.remark,callback:function(e){t.$set(t.form_data,"remark",e)},expression:"form_data.remark"}})],1),t._v(" "),i("el-form-item",{attrs:{prop:"ip",label:"IP"}},[i("ip-input",{attrs:{valid_ip:t.valid_ip,placeholder:"xxx"},on:{onIpblur:t.onIpblur,value:function(e){return t.form_data.ip=e}}}),t._v(" "),i("el-input",{staticClass:"ip_el-inp",model:{value:t.form_data.ip,callback:function(e){t.$set(t.form_data,"ip",e)},expression:"form_data.ip"}})],1)],1)],1)],1):t._e(),t._v(" "),""!==t.delete_id?i("delete-mod",{attrs:{content:t.$_lang("你正在删除ip，请确认")},on:{cancel:function(e){t.delete_id=""},value:function(e){return t.ver_code=e},confirm:function(e){t.onDelete(t.delete_id)},handle:function(e){t.sendCode("updateAllowLoginIp")}}}):t._e(),t._v(" "),i("v-footer")],1)},a=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"g-inlineblock li-add-img"},[e("img",{attrs:{src:i(739),alt:"+"}})])}];n._withStripped=!0,i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},732:function(t,e,i){},733:function(t,e,i){"use strict";var n=i(95);i.n(n).a},734:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.userWhiteIp={data:function(){var t=this;return{breadcrumb:[{name:this.$_lang("安全"),link:this.$_url.user_overview},{name:this.$_lang("IP 白名单")}],is_alert:!1,is_list_loading:!0,is_loading:!1,delete_id:"",page_size:8,page_total:0,valid_ip:0,form_data:{remark:"",ip:""},rules:{remark:[{required:!0,message:this.$_lang("备注不能为空"),trigger:"blur"}],ip:[{required:!0,validator:function(e,i,n){(t.valid_ip=!0,""!==i)?i.split(".").some(function(e){if(""===e)return n(t.$_lang("ip不合法")),!0})||(t.valid_ip=!1,n()):n(t.$_lang("ip不能为空"))},trigger:"blur"}]},code:"",token:"",ip_list:[],ver_code:null,switch_val:!1,switch_ver:null,is_switch_ip:!1,is_switch_validate:!1,is_switch_loading:!1}},computed:{},methods:{onReady:function(t){this.ref_code_inout=t.child_form},sendCode:function(t){t&&this.$_http.sendVCode({type:t})},confirm:function(){var t=this;this.ref_code_inout.validate(function(e){t.$refs.ip_form.validate(function(i){if(i&&e){t.is_loading=!0;var n={};n.ip=t.form_data.ip,n.ecode=t.code,n.token=t.token,n.remark=t.form_data.remark,t.$_http.ipAdd(n).then(function(e){t.is_loading=!1,0===e.status?(t.is_alert=!1,t.requestWhiteIpList(1)):t.$message.error(t.$_lang(e.msg))})}})})},onIpblur:function(){this.$refs.ip_form.validate(function(){})},getCodeValue:function(t){var e=t.code,i=t.token;this.code=e,this.token=i},onDelete:function(t){var e=this;if(t&&0!==t&&null!==this.ver_code){var i=this.ver_code,a={ecode:i.code,token:i.token};this.$_http.ipUpdate(n({id:t},a)).then(function(t){0===t.status?(e.delete_id="",e.requestWhiteIpList(1)):e.$message.error(e.$_lang(t.msg))})}},onCurrentPage:function(t){this.requestWhiteIpList(t)},onSwitchChange:function(){this.is_switch_ip=!0},resetWhiteStatus:function(){var t=this;if(this.is_switch_validate&&null!==this.switch_ver){this.is_switch_loading=!0;var e={token:this.switch_ver.token,ecode:this.switch_ver.code},i=this.switch_val?0:1;this.$_http.ipSwitch(n({status:i},e)).then(function(e){t.is_switch_ip=!1,t.is_switch_loading=!1,0===e.status?t.switch_val=!t.switch_val:t.$message.error(t.$_lang(e.msg))})}},requestWhiteIpList:function(t){var e=this;this.is_list_loading=!0,this.$_http.ipList({pageSize:8,pageNo:t}).then(function(t){if(e.is_list_loading=!1,0===t.status){var i=t.dataWrapper.list,n=i.resultList,a=i.totalCount;e.$nextTick(function(){e.ip_list=n,e.page_total=a})}else e.$message.error(e.$_lang(t.msg))})}},created:function(){var t=this;this.requestWhiteIpList(1),this.$_obs.sub("user_info",function(e){var i=e.isSetIps;t.switch_val=!(void 0===i||0===i)})}}},736:function(t,e,i){},737:function(t,e,i){"use strict";var n=i(96);i.n(n).a},738:function(t,e,i){"use strict";i.r(e);var n=i(439),a=i(98);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);i(737);var s=i(0),o=Object(s.a)(a.default,n.a,n.b,!1,null,"1e4b6762",null);o.options.__file="src/lbank/views/user-white-ip/modules/ip-input.vue",e.default=o.exports},739:function(t,e,i){t.exports=i.p+"imgs/white-ip.92777f1d9d8bfee80f0a433422e5cc67.svg"},740:function(t,e,i){"use strict";i.r(e);var n=i(540),a=i(100);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);i(733);var s=i(0),o=Object(s.a)(a.default,n.a,n.b,!1,null,"7effdb0c",null);o.options.__file="src/lbank/views/user-white-ip/user-white-ip.vue",e.default=o.exports},741:function(t,e,i){"use strict";var n,a=i(2),r=i(740),s=(n=r)&&n.__esModule?n:{default:n};a.utils.isLogin?(0,a.Render)(function(){new Vue({el:"#app",components:{primary:s.default},template:"<primary/>"})}):location.href=a.url.login},95:function(t,e,i){var n=i(732);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(1)(n,a);n.locals&&(t.exports=n.locals)},96:function(t,e,i){var n=i(736);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(1)(n,a);n.locals&&(t.exports=n.locals)},97:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ip-input",props:{placeholder:{default:"XXX"},valid_ip:Boolean|Number},data:function(){return{ip_val_0:"",ip_val_1:"",ip_val_2:"",ip_val_3:""}},computed:{inputStyle:function(){if(0!==this.valid_ip)return this.valid_ip?"error":"success"}},methods:{onIpblur:function(t){this.$emit("onIpblur",t)},inputIpHandle:function(t,e){var i=this.$_lib.getValNum(t.target.value);i=(""+i).replace(".",""),this.$refs["j_ip_input_"+e].value=i,this["ip_val_"+e]=i;var n=this.ip_val_0+"."+this.ip_val_1+"."+this.ip_val_2+"."+this.ip_val_3;"..."===n?this.$emit("value",""):this.$emit("value",n)},keydownHandle:function(t,e){var i=t.keyCode,n=e+1,a=e-1,r=this["ip_val_"+e].length;if(8===i&&0===r){if(a<0)return;this.$refs["j_ip_input_"+a].focus()}if(190===i||r>2){if(n>3)return;this.$refs["j_ip_input_"+n].focus()}}}}},98:function(t,e,i){"use strict";i.r(e);var n=i(97),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e.default=a.a},99:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=l(i(3)),a=l(i(738)),r=l(i(4)),s=l(i(15)),o=i(734);function l(t){return t&&t.__esModule?t:{default:t}}e.default={name:"user-white-ip",components:{DeleteMod:s.default,UserPublic:r.default,IpInput:a.default,TableTitle:n.default},mixins:[o.userWhiteIp]}}});