!function(t){function e(e){for(var i,a,r=e[0],l=e[1],c=e[2],_=0,p=[];_<r.length;_++)a=r[_],o[a]&&p.push(o[a][0]),o[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);for(u&&u(e);p.length;)p.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,r=1;r<n.length;r++){var l=n[r];0!==o[l]&&(i=!1)}i&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},o={18:0},s=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(t){var e=[],n=o[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise(function(e,i){n=o[t]=[e,i]});e.push(n[2]=i);var s=document.getElementsByTagName("head")[0],r=document.createElement("script");r.charset="utf-8",r.timeout=120,a.nc&&r.setAttribute("nonce",a.nc),r.src=function(t){return a.p+"js/"+({}[t]||t)+"."+{0:"b1d82bc311e5aff38167"}[t]+".js"}(t);var l=setTimeout(function(){c({type:"timeout",target:r})},12e4);function c(e){r.onerror=r.onload=null,clearTimeout(l);var n=o[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src,a=new Error("Loading chunk "+t+" failed.\n("+i+": "+s+")");a.type=i,a.request=s,n[1](a)}o[t]=void 0}}r.onerror=r.onload=c,s.appendChild(r)}return Promise.all(e)},a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/",a.oe=function(t){throw t};var r=window.webpackJsonp=window.webpackJsonp||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;s.push([888,1]),n()}({175:function(t,e,n){var i=n(883);"string"==typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},176:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(3),s=(i=o)&&i.__esModule?i:{default:i},a=n(885);e.default={name:"user-bind-email",components:{TableTitle:s.default},mixins:[a.userBindEmail]}},177:function(t,e,n){"use strict";n.r(e);var i=n(176),o=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);e.default=o.a},522:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-bind-email"},[n("v-header"),t._v(" "),n("div",{staticClass:"g-wrap"},[n("div",{staticClass:"g-container"},[n("div",{staticClass:"g-content cont g-text-center"},[n("table-title",{attrs:{separator:"",title:t.$_lang("绑定邮箱账号")}}),t._v(" "),n("el-steps",{staticClass:"bind-e-step",attrs:{active:t.step,"align-center":""}},[n("el-step",{staticClass:"active",attrs:{icon:"i"}},[n("i",{staticClass:"step-i g-block",attrs:{slot:"icon"},slot:"icon"},[t._v("1")]),t._v(" "),n("p",{staticClass:"step-t",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$_lang("用户须知")))])]),t._v(" "),n("el-step",{class:t.step>=2?"active":"",attrs:{icon:"2"}},[n("i",{staticClass:"step-i g-block",attrs:{slot:"icon"},slot:"icon"},[t._v("2")]),t._v(" "),n("p",{staticClass:"step-t",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$_lang("验证邮箱")))])]),t._v(" "),n("el-step",{class:t.step>=3?"active":"",attrs:{icon:"3"}},[n("i",{staticClass:"step-i g-block",attrs:{slot:"icon"},slot:"icon"},[t._v("3")]),t._v(" "),n("p",{staticClass:"step-t",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$_lang("绑定完成")))])])],1),t._v(" "),1===t.step?n("div",{staticClass:"step-one-wrap g-center"},[n("div",{staticClass:"one-cont"},[n("div",{staticClass:"one-img-box"}),t._v(" "),n("ul",{staticClass:"g-font20 main-txt"},[n("li",{staticClass:"g-font24 txt-1"},[t._v(t._s(t.$_lang("LBANK验证策略")))]),t._v(" "),n("li",{staticClass:"g-font64 g-fontbold txt-2"},[t._v(t._s(t.$_lang("全新升级")))]),t._v(" "),n("li",{staticClass:"g-font18 g-fontlighter txt-3"},[t._v("["+t._s(t.$_lang("为方便后续正常使用，请先完成邮箱绑定"))+"]")])]),t._v(" "),n("el-button",{staticClass:"g-btn-one g-font16 bind-btn",on:{click:function(e){t.step=2}}},[t._v("\n              "+t._s(t.$_lang("去绑定"))+"\n            ")])],1)]):t._e(),t._v(" "),2===t.step?n("el-form",{ref:"form_box",staticClass:"form-wrap",attrs:{model:t.step_two,rules:t.rule_two}},[n("el-form-item",{attrs:{prop:"email",label:t.$_lang("邮箱地址")}},[n("el-input",{attrs:{placeholder:t.$_lang("请输入邮箱地址")},model:{value:t.step_two.email,callback:function(e){t.$set(t.step_two,"email",e)},expression:"step_two.email"}})],1),t._v(" "),n("el-form-item",{attrs:{prop:"code",label:t.$_lang("邮箱验证码")}},[n("v-code-input",{attrs:{code_tip:t.code_tip},on:{handle:function(e){t.getEmailCode("ebind")},validate:function(e){return t.is_email_code=e},change:function(e){return t.ecode=e}}})],1),t._v(" "),n("el-form-item",{attrs:{prop:"code",label:t.$_lang("手机验证码")}},[n("v-code-input",{attrs:{code_tip:t.code_tip,placeholder:t.$_lang("请输入手机验证码")},on:{handle:function(e){t.getVerCode("mbind")},validate:function(e){return t.is_phone_code=e},change:function(e){return t.mcode=e}}})],1),t._v(" "),t.is_token?n("el-form-item",{attrs:{prop:"token",label:t.$_lang("谷歌验证码")}},[n("el-input",{attrs:{placeholder:t.$_lang("请输入谷歌验证码")},model:{value:t.step_two.token,callback:function(e){t.$set(t.step_two,"token",e)},expression:"step_two.token"}})],1):t._e(),t._v(" "),n("el-button",{staticClass:"g-btn-one g-font16 bind-btn",on:{click:t.confirm}},[t._v("\n            "+t._s(t.$_lang("提交"))+"\n          ")])],1):t._e(),t._v(" "),3===t.step?n("div",{},[t._m(0),t._v(" "),n("ul",{staticClass:"comp-txt"},[n("li",{staticClass:"g-font16"},[t._v(t._s(t.$_lang("恭喜您！您的邮箱绑定成功")))]),t._v(" "),n("li",[t._v(t._s(t.$_lang("邮箱账号"))+"："),n("span",[t._v(t._s(t.step_two.email))])])]),t._v(" "),n("a",{staticClass:"g-inlineblock g-btn-one g-font16 link-btn",attrs:{href:t.$_url.user_overview}},[t._v("\n            "+t._s(t.$_lang("返回安全"))+"\n          ")])]):t._e()],1)])]),t._v(" "),n("v-footer")],1)},o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"comp-box"},[e("img",{attrs:{src:n(886)}})])}];i._withStripped=!0,n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},883:function(t,e,n){},884:function(t,e,n){"use strict";var i=n(175);n.n(i).a},885:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.userBindEmail={data:function(){var t=this;return{step:1,step_two:{email:"",token:""},rule_two:{email:{validator:function(e,n,i){""===n?i(t.$_lang("邮箱不能为空")):n.includes("@")||i(t.$_lang("邮箱格式不正确")),i()},trigger:"blur"},token:{validator:function(e,n,i){""===n?i(t.$_lang("验证码不能为空")):n.length<6&&i(t.$_lang("验证码格式不正确")),i()},trigger:"blur"}},code_tip:!1,ecode:"",mcode:"",is_email_code:!1,is_phone_code:!1,is_token:!1}},computed:{},methods:{getEmailCode:function(t){this.step_two.email?this.$_http.sendCode({type:t,email:this.step_two.email}):this.$message.error(this.$_lang("请输入邮箱"))},getVerCode:function(t){this.$_http.sendVCode({type:t})},confirm:function(){var t=this;this.code_tip=!this.code_tip,this.$refs.form_box.validate(function(e){if(e&&t.is_email_code&&t.is_phone_code){var n={type:"ebind"};n.email=t.step_two.email,n.token=t.step_two.token,n.ecode=t.ecode,n.mcode=t.mcode,t.$_http.bindEmail(n).then(function(e){0===e.status?t.step=3:t.$message.error(t.$_lang(e.msg))})}})},initPage:function(){var t=this;this.$_obs.sub("user_info",function(e){var n=e.email,i=e.identifier;n?location.href=t.$_url.user_overview:t.is_token=i>0})}},created:function(){this.initPage()}}},886:function(t,e,n){t.exports=n.p+"imgs/bind-email-01.daab560a9c2296c01a6c06776555ade6.png"},887:function(t,e,n){"use strict";n.r(e);var i=n(522),o=n(177);for(var s in o)"default"!==s&&function(t){n.d(e,t,function(){return o[t]})}(s);n(884);var a=n(0),r=Object(a.a)(o.default,i.a,i.b,!1,null,"45bfe608",null);r.options.__file="src/lbank/views/user-bind-email/user-bind-email.vue",e.default=r.exports},888:function(t,e,n){"use strict";var i,o=n(2),s=n(887),a=(i=s)&&i.__esModule?i:{default:i};o.utils.isLogin?(0,o.Render)(function(){new Vue({el:"#app",components:{primary:a.default},template:"<primary/>"})}):location.href=o.url.login}});