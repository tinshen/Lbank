!function(t){function e(e){for(var i,s,o=e[0],l=e[1],u=e[2],f=0,d=[];f<o.length;f++)s=o[f],r[s]&&d.push(r[s][0]),r[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);for(c&&c(e);d.length;)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,o=1;o<n.length;o++){var l=n[o];0!==r[l]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},r={19:0},a=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise(function(e,i){n=r[t]=[e,i]});e.push(n[2]=i);var a=document.getElementsByTagName("head")[0],o=document.createElement("script");o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.src=function(t){return s.p+"js/"+({}[t]||t)+"."+{0:"b1d82bc311e5aff38167"}[t]+".js"}(t);var l=setTimeout(function(){u({type:"timeout",target:o})},12e4);function u(e){o.onerror=o.onload=null,clearTimeout(l);var n=r[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+i+": "+a+")");s.type=i,s.request=a,n[1](s)}r[t]=void 0}}o.onerror=o.onload=u,a.appendChild(o)}return Promise.all(e)},s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw t};var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;a.push([894,1]),n()}({178:function(t,e,n){var i=n(890);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,r);i.locals&&(t.exports=i.locals)},179:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(n(3)),r=s(n(4)),a=n(892);function s(t){return t&&t.__esModule?t:{default:t}}e.default={name:"user-auth-policy",components:{UserPublic:r.default,TableTitle:i.default},mixins:[a.userAuthPolicy]}},180:function(t,e,n){"use strict";n.r(e);var i=n(179),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e.default=r.a},551:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-auth-policy"},[n("v-header"),t._v(" "),n("div",{staticClass:"g-wrap"},[n("div",{staticClass:"g-container"},[n("v-breadcrumb",{attrs:{list:t.breadcrumbList}}),t._v(" "),n("div",{staticClass:"g-content cont"},[n("table-title",{attrs:{title:t.$_lang(t.title)}}),t._v(" "),n("div",{staticClass:"t-p-cont"},t._l(t.list_info,function(e,i){return n("ul",{key:i,staticClass:"set2-sel g-between-center"},[n("li",{staticClass:"g-text-left"},[n("div",{staticClass:"sel-img g-inlineblock-mid"},[n("div",{staticClass:"img g-font28"},[t._v(t._s(e.icon))])]),t._v(" "),n("p",{staticClass:"g-inlineblock-mid sel-t"},[n("span",{staticClass:"g-font18 g-fontbold"},[t._v(t._s(t.$_lang(e.title)))]),n("br"),t._v("\n                "+t._s(t.$_lang(e.sub_title))+"\n              ")])]),t._v(" "),n("li",{staticClass:"g-vcenter"},[n("el-switch",{staticClass:"swic",attrs:{"active-color":"#DDAA62","inactive-color":"#50505E",value:e.val,disabled:e.is_disabel},on:{change:function(e){t.switchChangeHandle(i)}}}),t._v(" "),n("span",{staticClass:"g-font16",staticStyle:{width:"48px"}},[t._v(t._s(t.$_lang(e.val_name)))])],1)])}))],1)],1)]),t._v(" "),t.is_alert?n("v-alert",{attrs:{title:t.$_lang("修改验证"),width:440},on:{cancel:t.alertOff}},[n("user-public",{attrs:{width:"100%",loading:t.is_update},on:{confirm:t.updateStrategy,handle:function(e){t.sendCode("updateStrategy")},change:function(e){return t.ver_code=e},validate:function(e){return t.is_validate=e}}})],1):t._e(),t._v(" "),n("v-footer")],1)},r=[];i._withStripped=!0,n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r})},890:function(t,e,n){},891:function(t,e,n){"use strict";var i=n(178);n.n(i).a},892:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.userAuthPolicy={data:function(){return{title:"更改安全设置策略",list_info:{login:{icon:"",title:"登录验证",sub_title:"用于登录的二次验证",val:!1,val_name:"未启用",is_disabel:!1,type:"auth_login"},draw:{icon:"",title:"提现验证",sub_title:"用于提现操作验证",val:!1,val_name:"启用",is_disabel:!1,type:"auth_draw"}},is_alert:!1,is_validate:!1,ver_code:null,is_update:!1,breadcrumbList:[{name:"安全",link:this.$_url.user_overview},{name:"设置二次验证"}]}},methods:{updateStrategy:function(){var t=this;if(this.is_validate&&this.mold&&null!==this.ver_code){this.is_update=!0;var e=this.list_info[this.mold].val?0:1,n=this.list_info[this.mold].type;this.$_http.setStrategy({ecode:this.ver_code.code,token:this.ver_code.token,status:e,type:n}).then(function(n){if(t.is_update=!1,t.is_alert=!1,0===n.status){var i={login:"登录",draw:"提现"}[t.mold];1===e?t.$message.success(t.$_lang(i+"二次校验已开启")):t.$message.warning(t.$_lang(i+"二次校验已关闭")),t.list_info[t.mold].val=!!e,t.list_info[t.mold].val_name=e?"启用":"未启用"}else t.$message.error(t.$_lang(n.msg))})}},sendCode:function(t){this.$_http.sendVCode({type:t})},switchChangeHandle:function(t){this.mold=t,this.is_alert=!0},alertOff:function(){this.is_alert=!1,this.ver_code=null,this.mold=""},getSearchType:function(){var t=this.$_lib.getSearch("type");return["google","authy"].includes(t)?t:(location.href=this.$_url.user_overview,null)},initList:function(){var t=this;this.$_obs.sub("policy",function(e){var n=e.login,i=e.draw,r={login:n&&(n.includes("2-1")||n.includes("2-2")),draw:i&&(i.includes("2-1")||i.includes("2-2"))};Object.keys(r).forEach(function(e){var n=r[e],i=n?"启用":"未启用";t.list_info[e].val=n,t.list_info[e].val_name=t.$_lang(i)})})}},created:function(){var t=this;this.$_obs.sub("user_info",function(e){e.identifier>0?(t.page_type=t.getSearchType(),t.initList()):location.href=t.$_url.user_factor})}}},893:function(t,e,n){"use strict";n.r(e);var i=n(551),r=n(180);for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);n(891);var s=n(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"9a73fb04",null);o.options.__file="src/lbank/views/user-auth-policy/user-auth-policy.vue",e.default=o.exports},894:function(t,e,n){"use strict";var i,r=n(2),a=n(893),s=(i=a)&&i.__esModule?i:{default:i};r.utils.isLogin?(0,r.Render)(function(){new Vue({el:"#app",components:{primary:s.default},template:"<primary/>"})}):location.href=r.url.login}});